<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>登录</title>
	<meta name="keywords" content="盒老师">
	<meta name="content" content="盒老师">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <link type="text/css" rel="stylesheet" href="css/login.css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.min.js"></script>

<style>
.show {
display: block;
}
</style>
</head>
<body class="login_bj" >
<div class="zhuce_body">
	<div class="logo"><p style="color:PowderBlue; font-size: 50px;width:200px">绿艺鲜花欢迎你!</p></div>
    <div class="zhuce_kong login_kuang">
    	<div class="zc">
    	
        	<div class="bj_bai tab" id="tl">
        		<table>
					<tr>
						<td id="tab1"><button width="50px">用户登录</button></td>
						<td id="tab2"><button width="50px">管理员登录</button></td>
					</tr>
				</table>
            	<div class="tab1">
            		<form action="login.html" method="post" id="loginForm">
               			<input v-model="user.name" name="username" type="text" class="kuang_txt" placeholder="用户名">
                		<input v-model="user.pwd" name="password" type="password" class="kuang_txt" placeholder="密码"><br>
                		<a href="resetPwd.html">忘记密码？</a><br>
               			<input name="" type="checkbox" value="" checked >记住我 <br>
                		<input @click="login()" name="登录" type="button" class="btn_zhuce" value="登录">
                	</form>
                	<script type="text/javascript">
                        new Vue({
                        	el:"#loginForm",
                        	data:{
                        		user : {
                        			name:"",
                        			pwd:""
                        		}
                        	},
                        	methods:{
                        		login(){
                            		var params = new URLSearchParams();
    								params.append("name",this.user.name);
    								params.append("pwd",this.user.pwd);
    								axios.post("login.s",params).then(res=>{
    									if(res.data.code==0){
    										//报错提示
    										alert(res.data.data);
    										location.href="login.html";
    									}
    									if(res.data.code==1){
    										//登录成功提示
    										alert(res.data.msg);
    										location.href="index.html";
    									}
    								}).catch(error=>{
    									alert("系统错误，请联系管理员");
    								})
                            	}
                        	}
                        	
                        })
                
                	</script>
            	</div>
       	  		
       	  		<div class="tab2">
       	  			<form action="login.html" method="post" id="loginForm1">
                		<input v-model="aname" name="username" type="text" class="kuang_txt" placeholder="管理员用户名">
                		<input v-model="apwd" name="password" type="password" class="kuang_txt" placeholder="密码"><br>
                		<a href="resetPwd.html">忘记密码？</a><br>
               			<input name="" type="checkbox" value="" checked >记住我 <br>
                		<input @click="login1()" name="登录" type="button" class="btn_zhuce" value="登录">
                	</form>
                	<script type="text/javascript">
                        new Vue({
                        	el:"#loginForm1",
                        	data:{
                        		administrator : {
                        			aname:"",
    								apwd:""
                        		}
                        	},
                        	methods:{
                        		login1(){
                            		var params = new URLSearchParams();
    								params.append("aname",this.administrator.aname);
    								params.append("apwd",this.administrator.apwd);
    								axios.post("login1.s",params).then(res=>{
    									alert(res.data.msg);
    									if(res.data.code==1){
    										location.href="/back/bIndex.html";
    									}
    								}).catch(error=>{
    									alert("系统错误，请联系管理员");
    								})
                            	}
                        	}
                        	
                        })
                
                	</script>
       	  		</div>
            </div>
        	
        	<script>
        	$(document).ready(function() {
        		/********* tab setting *********/
        		$(".tab td:first").addClass("current");
        		$(".tab div:not(:first)").hide();

        		/********* tab event *********/
        		$(".tab td").click(function() {
        			$(".tab td").removeClass("current");
        			$(this).addClass("current");
        			$(".tab div").hide();
        			$("." + $(this).attr("id")).fadeIn('slow');
        		});

        		$("#linkFSS").click(function() {
        			$("#tab7").click();
        		});

        	});
        	</script>
        	<div class="bj_right">
            	<p>使用以下账号直接登录</p>
                <a href="#" class="zhuce_qq">QQ注册</a>
                <a href="#" class="zhuce_wb">微博注册</a>
                <a href="#" class="zhuce_wx">微信注册</a>
                <p>没有账号？<a href="register.html">立即注册</a></p>
            .
            </div>
        </div>
    
    </div>

</div>
    
</body>
</html>